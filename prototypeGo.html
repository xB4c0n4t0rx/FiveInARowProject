<!DOCTYPE html>

<!--
    Filename:  prototypeGo.html
    Written by: Myson Burch
    Date: 16 November 2016
    Modification History: Original Buil
-->

<html lang="en">
<head>

	<meta charset="UTF-8">
	<title>Five In A Row</title>

	<script type="text/javascript" src="simpleGame.js"></script>
	<script>

		var game;
		var backgroundSprite;
		var cells;
		var BLANK = 0;
		var BLK = 1;
		var WTE = 2;
		var currentPlayer = BLK;
		var WTEcells;
		var BLKcells;

		function Cell(){
			tCell = new Sprite(game, "blank.png", 20, 20);
			tCell.setSpeed(0);
			tCell.state = BLANK;

			tCell.images = new Array("blank.png", "goBlackPiece.png", "goWhitePiece.png");

			tCell.checkClick = function(){
				if (this.isClicked()){
					if (this.state == BLANK){
						this.state = currentPlayer;
						this.setImage(this.images[currentPlayer]);

						//change the player
						if (currentPlayer == BLK){
							currentPlayer = WTE;
						} else {
							currentPlayer = BLK;
						} // end if


					} // end if
				} // end if
			} // end checkClick

			return tCell;
		} // end cell

		function buildIntersects(){
			cells = new Array(361);
			xOffset = 52;
			yOffset = 52;
			for (i = 0; i < cells.length; i++){
				cells[i] = new Cell();
				row = parseInt(i / 19);
				col = i % 19;
				xPos = (row * 35) + xOffset;
				yPos = (col * 35) + yOffset;
				cells[i].setPosition(xPos, yPos);
			} // end for loop

		}

		function updateIntersects(){
			for (i = 0; i < cells.length; i++){
				cells[i].checkClick();
				cells[i].update();
			} // end for loop
		} // end updateCells


		function checkWins(){



		}

		function init(){

			game = new Scene();

			backgroundSprite = new Sprite(game, "Go.png", game.width, game.height);
			backgroundSprite.setSpeed(0);
			backgroundSprite.setPosition(game.width/2,game.height/2);

			buildIntersects();


			game.start();

		}

		function update(){

			game.clear();
			backgroundSprite.update();
			updateIntersects();

		}

	</script>

</head>

<body onload = "init()">

</body>
</html>
